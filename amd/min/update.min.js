function changed_company(e){""===e.value?e.setAttribute("changed","false"):e.setAttribute("changed","true")}function update_companys(){const e=$("#update_error")[0],t=$("#update_success")[0];t.style.display="none",e.style.display="none";const n=$(".update-company");let r="",s=0;if(n.each(function(e,t){t.style.border="","true"==t.getAttribute("changed")&&(r+=0===s?`c${s}=${t.value}&i${s}=${t.getAttribute("uid")}`:`&c${s}=${t.value}&i${s}=${t.getAttribute("uid")}`,s++)}),r+=s>0?`&total=${s}`:"",""===r)e.innerText="No changes made.",e.style.display="block";else{const s=new XMLHttpRequest;s.open("POST","./classes/inc/update.inc.php",!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.onload=function(){if(200==this.status){const r=JSON.parse(this.responseText);r.error?Array.isArray(r.error)?($('input.update-company[uid="'+r.error[0]+'"]')[0].style.border="2px solid red",e.innerText=r.error[1],e.style.display="block"):(e.innerText=r.error,e.style.display="block"):r.return?(t.innerText="Updated",t.style.display="block",n.each(function(e,t){t.setAttribute("changed","false")})):(e.innerText="Update error",e.style.display="block")}else e.innerText="Connection error.",e.style.display="block"},s.send(r)}console.log(r)}